{"version":3,"sources":["components/Wallet.js","utils/config.js","utils/near.js","components/utils/Notifications.js","components/utils/Cover.js","components/Coffee/CoffeeForm.js","components/utils/Loader.js","utils/time.js","components/Coffee/CoffeeCard.js","utils/coffee.js","components/Coffee/Coffees.js","assets/img/coffee.svg","assets/img/coffeeBarista.svg","App.js","index.js"],"names":["Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","Cover","name","coverImg","style","background","minHeight","maxWidth","src","alt","Button","CoffeeForm","buyCoffee","coffeePrice","useState","_name","setName","_message","setMessage","onSubmit","e","preventDefault","message","console","log","margin","width","TextField","label","htmlfor","color","onChange","event","value","placeholder","focused","fullWidth","multiline","startIcon","type","utils","format","Loader","role","convertTime","nanosecs","dateObj","Date","toLocaleDateString","weekday","year","month","day","toLocaleString","hour","minute","hour12","CoffeeCard","coffee","giver","timestamp","Box","sx","textAlign","marginY","Typography","textTransform","uuid4","Coffees","coffees","setCoffees","setCoffeePrice","loading","setLoading","getCoffees","useCallback","arr","get_total_number_of_coffee","noOfCoffees","coffee_number","get_coffee_by_number","get_coffee_by_range","from","until","push","reverse","coffee_price","error","sendCoffee","then","resp","toast","useEffect","display","flexDirection","alignItems","justifyContent","map","_coffee","App","balance","setBalance","getBalance","Container","fluid","Nav","coffeeBarista","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"gVAsDeA,EAnDA,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACzC,OAAIH,EAEA,mCACE,eAACI,EAAA,EAAD,WACE,cAACA,EAAA,EAASC,OAAV,CACEC,QAAQ,QACRC,MAAM,MACNC,GAAG,iBACHC,UAAU,qDAJZ,SAMGR,EACC,qCACGA,EADH,IACW,uBAAMQ,UAAU,OAAhB,cAAyBP,QAGpC,cAACQ,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,KAAKH,UAAU,iBAIpD,eAACL,EAAA,EAASS,KAAV,CAAeJ,UAAU,qBAAzB,UACE,cAACL,EAAA,EAASU,KAAV,CACEC,KAAI,qDAAgDf,GACpDgB,OAAO,SAFT,SAIE,eAACC,EAAA,EAAD,CAAOC,UAAU,aAAaC,IAAK,EAAnC,UACE,mBAAGV,UAAU,6BACb,sBAAMA,UAAU,iBAAhB,SAAkCT,SAItC,cAACI,EAAA,EAASgB,QAAV,IACA,eAAChB,EAAA,EAASU,KAAV,CACEO,GAAG,SACHZ,UAAU,4BACVa,QAAS,WACPnB,GACD,EALH,UAOE,mBAAGM,UAAU,oCAPf,wBAgBH,IACR,E,kBCpDKc,EACJC,oJAAYD,eAAiB,+BA2BhBE,MAzBf,SAAqBC,GACnB,OAAQA,GACN,IAAK,UACH,MAAO,CACLC,UAAW,UACXC,QAAS,+BACTC,aAAcN,EACdO,UAAW,0BACXC,UAAW,kCACXC,YAAa,qCAEjB,IAAK,UACH,MAAO,CACLL,UAAW,UACXC,QAAS,+BACTC,aAAcN,EACdO,UAAW,kCACXC,UAAW,kCACXC,YAAa,qCAEjB,QACE,MAAMC,MAAM,wBAAD,OAAyBP,EAAzB,OAEhB,E,gBCtBKQ,EAAUT,EAAY,W,sDAErB,8GACcU,kBACjBC,OAAOC,OACL,CAAEC,KAAM,CAAEC,SAAU,IAAIC,YAAUC,8BAClCP,IAJC,OACCQ,EADD,OAOLC,OAAOC,iBAAmB,IAAIC,mBAAiBH,GAC/CC,OAAOG,UAAYH,OAAOC,iBAAiBG,eAC3CJ,OAAOK,SAAW,IAAIC,WACpBN,OAAOC,iBAAiBM,UACxBhB,EAAQL,aACR,CAEEsB,YAAa,CACX,eACA,sBACA,6BACA,cACA,wBAGFC,cAAe,CAAC,YAAa,yBAtB5B,4C,sBA2BA,SAAeC,IAAtB,+B,sDAAO,oGACEC,mBADF,SAEIX,OAAOC,iBAAiBM,UAAUK,oBAFtC,0BAE2DC,MAF3D,gCAGH,IAHG,4C,sBAWA,SAASC,IACdd,OAAOC,iBAAiBc,cAAcxB,EAAQL,aAC/C,CAEM,SAAS8B,IACdhB,OAAOC,iBAAiBgB,UACxBjB,OAAOkB,SAASC,QACjB,C,YC9CKC,G,OAAe,kBACnB,cAAC,IAAD,CACEC,SAAS,gBACTC,UAAW,IACXC,iBAAe,EACfC,aAAW,EACXC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAW,EACXC,cAAY,GAVK,GAcfC,EAAsB,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OAC1B,gCACE,mBAAGjE,UAAU,8CACb,sBAAMA,UAAU,sBAAhB,SAAuCiE,MAHf,EAOtBC,EAAoB,SAAC,GAAD,IAAGD,EAAH,EAAGA,KAAH,OACxB,gCACE,mBAAGjE,UAAU,yCACb,sBAAMA,UAAU,sBAAhB,SAAuCiE,MAHjB,EAWpBE,EAAe,CACnBF,KAAM,IAIRD,EAAoBI,aAAeD,EAGnCD,EAAkBE,aAAeD,E,aCzC3BE,EAAQ,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,KAAMtB,EAAsB,EAAtBA,MAAOuB,EAAe,EAAfA,SAC5B,OAAkBA,EAEd,sBACEvE,UAAU,wDACVwE,MAAO,CAAEC,WAAY,UAAWC,UAAW,SAF7C,UAIE,sBAAK1E,UAAU,0BAAf,UACE,qBACEA,UAAU,gCACVwE,MAAO,CAAEG,SAAU,SAFrB,SAIE,qBAAKC,IAAKL,EAAUM,IAAI,OAE1B,6BAAKP,IACL,wEACA,cAACQ,EAAA,EAAD,CACEjE,QAASmC,EACTnD,QAAQ,gBACRG,UAAU,yBAHZ,+BAQF,mBAAGA,UAAU,yBAAb,gCAIC,IACR,EAMDqE,EAAMD,aAAe,CACnBE,KAAM,IAGOD,Q,4CCqCAU,EAzEI,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAC/B,EAAyBC,mBAAS,IAAlC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA+BF,mBAAS,IAAxC,mBAAOG,EAAP,KAAiBC,EAAjB,KAyBA,OACE,mCACE,uBACEC,SAjBN,SAAkBC,GAChBA,EAAEC,iBAEF,IAAMnB,EAAOa,GAAgB,YACvBO,EAAUL,GAAsB,oBAEtCM,QAAQC,IAAItB,EAAMoB,GAElBV,EAAU,CACRV,OACAoB,WAEH,EAMKlB,MAAO,CAAEqB,OAAQ,gBAAiBC,MAAO,SAF3C,UAIE,8BACE,cAACC,EAAA,EAAD,CACEC,MAAM,OACNC,QAAQ,OACRC,MAAM,UACNC,SA9BiB,SAACC,GAC1B,IAAQC,EAAUD,EAAM7F,OAAhB8F,MACRjB,EAAQiB,EACT,EA4BSC,YAAY,aACZC,SAAO,EACPC,WAAS,MAGb,qBAAKhC,MAAO,CAAEqB,OAAQ,UAAtB,SACE,cAACE,EAAA,EAAD,CACEC,MAAM,UACNC,QAAQ,UACRC,MAAM,UACNC,SA7CoB,SAACC,GAC7B,IAAQC,EAAUD,EAAM7F,OAAhB8F,MACRf,EAAWe,EACZ,EA2CSC,YAAY,6BACZC,SAAO,EACPE,WAAS,EACTD,WAAS,MAGb,eAAC,IAAD,CACEE,UAAW,cAAC,IAAD,IACX7G,QAAQ,YACR8G,KAAK,SAHP,qBAKWC,QAAMC,OAAOhE,iBAAiBoC,GALzC,eAUP,EC/Dc6B,EAPA,kBACb,qBAAK9G,UAAU,gCAAf,SACE,cAACC,EAAA,EAAD,CAASC,UAAU,SAAS6G,KAAK,SAAS/G,UAAU,aAApD,SACE,sBAAMA,UAAU,kBAAhB,2BAHS,E,kBCHR,SAASgH,EAAYC,GACxB,GAAiB,IAAbA,EACF,MAAO,KAGT,IAAIC,EAAU,IAAIC,KAAKF,EAAS,KAahC,OAXWC,EAAQE,mBAAmB,QAAS,CAC7CC,QAAS,QACTC,KAAM,UACNC,MAAO,QACPC,IAAK,YAOO,KALHN,EAAQO,eAAe,QAAS,CACzCC,KAAM,UACNC,OAAQ,UACRC,QAAQ,GAGX,CCfI,IAAMC,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACRxD,GAA6BwD,EAAxC/H,GAAwC+H,EAApCC,MAAoCD,EAA7BxD,MAAMoB,EAAuBoC,EAAvBpC,QAASsC,EAAcF,EAAdE,UAClC,OACE,mCACE,eAACC,EAAA,EAAD,CACEC,GAAI,CACFC,UAAW,OACXC,QAAS,UAEXpI,UAAU,cALZ,UAOE,qBAAKA,UAAU,eACf,8BACE,eAACqI,EAAA,EAAD,CAAYxI,QAAQ,SAASqI,GAAI,CAAEI,cAAe,cAAlD,wBACchE,OAGhB,8BACE,eAAC+D,EAAA,EAAD,CAAYxI,QAAQ,SAApB,sBAAuC6F,OAEzC,8BACE,eAAC2C,EAAA,EAAD,CAAYxI,QAAQ,SAApB,mBACSmH,EAAYgB,YAM9B,E,SC5BM,SAAShD,EAAU8C,EAAQ7C,GAEhC,OADA6C,EAAO/H,GAAKwI,eACLrG,OAAOK,SAASyC,UAAU,CAAE8C,UALzB,KAKwC7C,EACnD,CCMD,IAiFeuD,EAjFC,WACd,MAA8BtD,mBAAS,IAAvC,mBAAOuD,EAAP,KAAgBC,EAAhB,KACA,EAAsCxD,mBAAS,IAA/C,mBAAOD,EAAP,KAAoB0D,EAApB,KACA,EAA8BzD,oBAAS,GAAvC,mBAAO0D,EAAP,KAAgBC,EAAhB,KAGMC,EAAaC,sBAAW,gCAAC,kHAE3BF,GAAW,GACPG,EAAM,GAHiB,SDAxB9G,OAAOK,SAAS0G,6BCAQ,cAIrBC,EAJqB,gBDRV,KAFKC,ECecD,GDZhChH,OAAOK,SAAS6G,qBAAqB,CAACD,kBAErCjH,OAAOK,SAAS8G,oBAAoB,CAAEC,KAAM,EAAGC,MAAOJ,ICKhC,cAKrBV,EALqB,OAMP,IAAhBS,GACFF,EAAIQ,KAAKf,GACTC,EAAWM,IAEXN,EAAWD,EAAQgB,WAVM,KAY3Bd,EAZ2B,UDQxBzG,OAAOK,SAASmH,eCRQ,qFAc3B/D,QAAQC,IAAI,CAAE+D,MAAK,OAdQ,yBAgB3Bd,GAAW,GAhBgB,+CDV1B,IAAqBM,CCUK,8BAkB5B,IAEGS,EAAU,iDAAG,WAAO9B,GAAP,2EACjB,IACEe,GAAW,GACX7D,EAAU8C,EAAQ7C,GAAa4E,MAAK,SAACC,GACnCC,YAAM,cAAC,EAAD,CAAqB9F,KAAK,uBAChC6E,GACD,GAMF,CALC,MAAOa,GACPhE,QAAQC,IAAI,CAAE+D,UACdI,YAAM,cAAC,EAAD,CAAmB9F,KAAK,+BAC/B,CATD,QAUE4E,GAAW,EACZ,CAZgB,2CAAH,sDAmBhB,OAJAmB,qBAAU,WACRlB,GACD,GAAE,CAACA,IAGF,mCACIF,EA4BA,cAAC,EAAD,IA3BA,qCACE,oBAAI5I,UAAU,+CAAd,6BAGA,sBACEwE,MAAO,CACLyF,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,iBALpB,UAQE,cAAC,EAAD,CAAYpF,UAAW4E,EAAY3E,YAAaA,IAEhD,8BACGwD,EAAQ4B,KAAI,SAACC,GAAD,OACX,cAAC,EAAD,CAEExC,OAAM,eACDwC,IAFAA,EAAQvK,GAFJ,aAgB1B,EC5Fc,MAA0B,mCCA1B,MAA0B,0C,OCyD1BwK,MA9Cf,WACE,IAAM9H,EAAUP,OAAOC,iBAAiBM,UAExC,EAA8ByC,mBAAS,KAAvC,mBAAOsF,EAAP,KAAgBC,EAAhB,KAEMC,EAAa3B,sBAAW,gCAAC,4FACzBtG,EAAQJ,UADiB,4BAE3BoI,EAF2B,SAEV7H,IAFU,6EAI5B,CAACH,IAMJ,OAJAuH,qBAAU,WACRU,GACD,GAAE,CAACA,IAGF,sBAAK1K,UAAU,MAAf,UACE,cAAC,EAAD,IACCyC,EAAQJ,UACP,eAACsI,EAAA,EAAD,CAAWC,MAAM,KAAjB,UACE,cAACC,EAAA,EAAD,CAAK7K,UAAU,gCAAf,SACE,cAAC6K,EAAA,EAAIxK,KAAL,UACE,cAAC,EAAD,CACEd,QAASkD,EAAQJ,UACjB7C,OAAQgL,EACR/K,OAAO,OACPC,QAASA,QAIf,sBAAMM,UAAU,4EAAhB,SACE,cAAC,EAAD,SAKJ,cAAC,EAAD,CAAOsE,KAAK,uBAAuBtB,MAAOA,EAAOuB,SAAUA,IAG7D,qBAAKvE,UAAU,cAAf,SACE,qBAAK4E,IAAKkG,EAAejG,IAAI,oBAIpC,E,cC9CD3C,OAAO6I,gBZHA,WAAP,+BYGyBC,GACtBnB,MAAK,WACJoB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,QAE3B,IACAC,MAAM3F,QAAQgE,M","file":"static/js/main.3b276dd6.chunk.js","sourcesContent":["import React from \"react\";\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\n\nconst Wallet = ({ address, amount, symbol, destroy }) => {\n  if (address) {\n    return (\n      <>\n        <Dropdown>\n          <Dropdown.Toggle\n            variant=\"light\"\n            align=\"end\"\n            id=\"dropdown-basic\"\n            className=\"d-flex align-items-center border rounded-pill py-1\"\n          >\n            {amount ? (\n              <>\n                {amount} <span className=\"ms-1\"> {symbol}</span>\n              </>\n            ) : (\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\n            )}\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu className=\"shadow-lg border-0\">\n            <Dropdown.Item\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\n              target=\"_blank\"\n            >\n              <Stack direction=\"horizontal\" gap={2}>\n                <i className=\"bi bi-person-circle fs-4\" />\n                <span className=\"font-monospace\">{address}</span>\n              </Stack>\n            </Dropdown.Item>\n\n            <Dropdown.Divider />\n            <Dropdown.Item\n              as=\"button\"\n              className=\"d-flex align-items-center\"\n              onClick={() => {\n                destroy();\n              }}\n            >\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\n              Disconnect\n            </Dropdown.Item>\n          </Dropdown.Menu>\n        </Dropdown>\n      </>\n    );\n  }\n\n  return null;\n};\n\nexport default Wallet;\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"coffeedapp.omoesther.testnet\"; // put here a smart contracts' name\n\nfunction environment(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    default:\n      throw Error(`Unknown environment '${env}'.`);\n  }\n}\n\nexport default environment;\n","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\nexport async function initializeContract() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      // List here all view methods\n      viewMethods: [\n        \"coffee_price\",\n        \"get_coffee_by_range\",\n        \"get_total_number_of_coffee\",\n        \"beneficiary\",\n        \"get_coffee_by_number\",\n      ],\n      // List call methods that change state\n      changeMethods: [\"buyCoffee\", \"update_coffee_price\"],\n    }\n  );\n}\n\nexport async function accountBalance() {\n  return formatNearAmount(\n    (await window.walletConnection.account().getAccountBalance()).total,\n    2\n  );\n}\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n}\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Notification = () => (\n  <ToastContainer\n    position=\"bottom-center\"\n    autoClose={5000}\n    hideProgressBar\n    newestOnTop\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss\n    draggable={false}\n    pauseOnHover\n  />\n);\n\nconst NotificationSuccess = ({ text }) => (\n  <div>\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst NotificationError = ({ text }) => (\n  <div>\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst Props = {\n  text: PropTypes.string,\n};\n\nconst DefaultProps = {\n  text: \"\",\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"react-bootstrap\";\n\nconst Cover = ({ name, login, coverImg }) => {\n  if ((name, login, coverImg)) {\n    return (\n      <div\n        className=\"d-flex justify-content-center flex-column text-center\"\n        style={{ background: \"#424952\", minHeight: \"100vh\" }}\n      >\n        <div className=\"mt-auto text-light mb-5\">\n          <div\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\n            style={{ maxWidth: \"320px\" }}\n          >\n            <img src={coverImg} alt=\"\" />\n          </div>\n          <h1>{name}</h1>\n          <p>Please connect your wallet to continue.</p>\n          <Button\n            onClick={login}\n            variant=\"outline-light\"\n            className=\"rounded-pill px-3 mt-3\"\n          >\n            Connect Wallet\n          </Button>\n        </div>\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\n      </div>\n    );\n  }\n  return null;\n};\n\nCover.propTypes = {\n  name: PropTypes.string,\n};\n\nCover.defaultProps = {\n  name: \"\",\n};\n\nexport default Cover;\n","import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { utils } from \"near-api-js\"\nimport TextField from \"@mui/material/TextField\"\nimport { Button } from \"@mui/material\"\nimport EmojiFoodBeverageIcon from \"@mui/icons-material/EmojiFoodBeverage\"\n\nconst CoffeeForm = ({ buyCoffee, coffeePrice }) => {\n  const [_name, setName] = useState(\"\")\n  const [_message, setMessage] = useState(\"\")\n\n  const handleOnMessageChange = (event) => {\n    const { value } = event.target\n    setMessage(value)\n  }\n  const handleOnNameChange = (event) => {\n    const { value } = event.target\n    setName(value)\n  }\n\n  function onSubmit(e) {\n    e.preventDefault()\n\n    const name = _name ? _name : \"Anonymous\"\n    const message = _message ? _message : \"Enjoy Your Coffee\"\n\n    console.log(name, message)\n\n    buyCoffee({\n      name,\n      message,\n    })\n  }\n\n  return (\n    <>\n      <form\n        onSubmit={onSubmit}\n        style={{ margin: \"2rem 0 1rem 0\", width: \"20rem\" }}\n      >\n        <div>\n          <TextField\n            label=\"Name\"\n            htmlfor=\"name\"\n            color=\"primary\"\n            onChange={handleOnNameChange}\n            placeholder=\"Enter Name\"\n            focused\n            fullWidth\n          />\n        </div>\n        <div style={{ margin: \"1rem 0\" }}>\n          <TextField\n            label=\"Message\"\n            htmlfor=\"message\"\n            color=\"primary\"\n            onChange={handleOnMessageChange}\n            placeholder=\"Send the Creator a Message\"\n            focused\n            multiline\n            fullWidth\n          />\n        </div>\n        <Button\n          startIcon={<EmojiFoodBeverageIcon />}\n          variant=\"contained\"\n          type=\"submit\"\n        >\n          Support {utils.format.formatNearAmount(coffeePrice)} NEAR\n        </Button>\n      </form>\n    </>\n  )\n}\n\nCoffeeForm.propTypes = {\n  buyCoffee: PropTypes.func.isRequired,\n  coffeePrice: PropTypes.string.isRequired,\n}\n\nexport default CoffeeForm\n","import React from \"react\";\nimport { Spinner } from \"react-bootstrap\";\n\nconst Loader = () => (\n  <div className=\"d-flex justify-content-center\">\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\n      <span className=\"visually-hidden\">Loading...</span>\n    </Spinner>\n  </div>\n);\nexport default Loader;\n","export function convertTime(nanosecs) {\n    if (nanosecs === 0) {\n      return \"--\";\n    }\n  \n    let dateObj = new Date(nanosecs/1000000);\n  \n    let date = dateObj.toLocaleDateString(\"en-us\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n    let time = dateObj.toLocaleString(\"en-us\", {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      hour12: true,\n    });\n    return date + \", \" + time;\n  };","import React from \"react\"\nimport { Box, Typography } from \"@mui/material\"\nimport { convertTime } from \"../../utils/time\"\n\nexport const CoffeeCard = ({ coffee }) => {\n  const { id, giver, name, message, timestamp } = coffee\n  return (\n    <>\n      <Box\n        sx={{\n          textAlign: \"left\",\n          marginY: \"0.7rem\",\n        }}\n        className=\"coffee-card\"\n      >\n        <div className=\"fancy-line\"></div>\n        <div>\n          <Typography variant=\"string\" sx={{ textTransform: \"capitalize\" }}>\n            Supporter: {name}\n          </Typography>\n        </div>\n        <div>\n          <Typography variant=\"string\">Message: {message}</Typography>\n        </div>\n        <div>\n          <Typography variant=\"string\">\n            Date: {convertTime(timestamp)}\n          </Typography>\n        </div>\n      </Box>\n    </>\n  )\n}\n","import { v4 as uuid4 } from \"uuid\";\nconst GAS = 100000000000000;\n\n\nexport function buyCoffee(coffee, coffeePrice) {\n  coffee.id = uuid4();\n  return window.contract.buyCoffee({ coffee }, GAS, coffeePrice);\n}\n\nexport function getCoffees( coffee_number ) {\n  //get most recent coffees\n  if(coffee_number === 1){\n   return window.contract.get_coffee_by_number({coffee_number});\n  }else{\n    return window.contract.get_coffee_by_range({ from: 1, until: coffee_number });\n  }\n}\n\nexport function getTotalCoffee() {\n  return window.contract.get_total_number_of_coffee();\n}\n\nexport function getBeneficiary() {\n  return window.contract.beneficiary();\n}\n\nexport function getCoffeePrice() {\n  return window.contract.coffee_price();\n}\n","import React, { useEffect, useState, useCallback } from \"react\"\nimport { toast } from \"react-toastify\"\nimport CoffeeForm from \"./CoffeeForm\"\nimport Loader from \"../utils/Loader\"\nimport { CoffeeCard } from \"./CoffeeCard\"\nimport {\n  buyCoffee,\n  getCoffeePrice,\n  getCoffees as getCoffeeList,\n  getTotalCoffee,\n} from \"../../utils/coffee\"\n\nimport { NotificationSuccess, NotificationError } from \"../utils/Notifications\"\nconst Coffees = () => {\n  const [coffees, setCoffees] = useState([])\n  const [coffeePrice, setCoffeePrice] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n\n  // function to get the list of products\n  const getCoffees = useCallback(async () => {\n    try {\n      setLoading(true)\n      let arr = []\n      const noOfCoffees = await getTotalCoffee()\n      const coffees = await getCoffeeList(noOfCoffees)\n      if (noOfCoffees === 1) {\n        arr.push(coffees)\n        setCoffees(arr)\n      } else {\n        setCoffees(coffees.reverse())\n      }\n      setCoffeePrice(await getCoffeePrice())\n    } catch (error) {\n      console.log({ error })\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  const sendCoffee = async (coffee) => {\n    try {\n      setLoading(true)\n      buyCoffee(coffee, coffeePrice).then((resp) => {\n        toast(<NotificationSuccess text=\"Coffee purchased.\" />)\n        getCoffees()\n      })\n    } catch (error) {\n      console.log({ error })\n      toast(<NotificationError text=\"Failed to create a coffee.\" />)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    getCoffees()\n  }, [getCoffees])\n\n  return (\n    <>\n      {!loading ? (\n        <>\n          <h1 className=\"text-6xl font-bold text-blue-600 mb-6 buy-me\">\n            Buy Me A Coffee\n          </h1>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <CoffeeForm buyCoffee={sendCoffee} coffeePrice={coffeePrice} />\n            {/* Coffee Cards */}\n            <div>\n              {coffees.map((_coffee) => (\n                <CoffeeCard\n                  key={_coffee.id}\n                  coffee={{\n                    ..._coffee,\n                  }}\n                />\n              ))}\n            </div>\n          </div>\n        </>\n      ) : (\n        <Loader />\n      )}\n    </>\n  )\n}\n\nexport default Coffees\n","export default __webpack_public_path__ + \"static/media/coffee.41643f3f.svg\";","export default __webpack_public_path__ + \"static/media/coffeeBarista.ed19b05b.svg\";","import React, { useEffect, useCallback, useState } from \"react\"\nimport Wallet from \"./components/Wallet\"\nimport { Container, Nav } from \"react-bootstrap\"\nimport { login, logout as destroy, accountBalance } from \"./utils/near\"\nimport { Notification } from \"./components/utils/Notifications\"\nimport Cover from \"./components/utils/Cover\"\nimport Coffees from \"./components/Coffee/Coffees\"\nimport coverImg from \"./assets/img/coffee.svg\"\nimport coffeeBarista from \"./assets/img/coffeeBarista.svg\"\nimport \"./App.css\"\n\nfunction App() {\n  const account = window.walletConnection.account()\n\n  const [balance, setBalance] = useState(\"0\")\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance())\n    }\n  }, [account])\n\n  useEffect(() => {\n    getBalance()\n  }, [getBalance])\n\n  return (\n    <div className=\"App\">\n      <Notification />\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <Nav className=\"justify-content-end pt-3 pb-5\">\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol=\"NEAR\"\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main className=\"flex flex-col items-center justify-center w-full flex-1 px-20 text-center\">\n            <Coffees />\n          </main>\n        </Container>\n      ) : (\n        // connect Wallet\n        <Cover name=\"Buy Me A Coffee DApp\" login={login} coverImg={coverImg} />\n      )}\n\n      <div className=\"side-coffee\">\n        <img src={coffeeBarista} alt=\"coffee-guys\" />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n"],"sourceRoot":""}